// 为所有 Flutter 插件项目提供默认的 flutter 对象
// 这个文件使用 Groovy 语法，确保与插件的 build.gradle 兼容

allprojects {
    afterEvaluate { project ->
        if (project.hasProperty("android")) {
            def android = project.extensions.findByName("android")
            if (android != null) {
                // 如果 compileSdkVersion 未设置，设置默认值
                try {
                    if (android.compileSdkVersion == null) {
                        android.compileSdkVersion = 34
                    }
                } catch (e) {
                    // 如果 compileSdkVersion 属性不存在，尝试使用 compileSdk
                    try {
                        if (android.compileSdk == null) {
                            android.compileSdk = 34
                        }
                    } catch (e2) {
                        // 忽略错误
                    }
                }
            }
        }
    }
}

